<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>

<!-- Mirrored from undocumented.ntinternals.net/UserMode/Structures/SECTION_IMAGE_INFORMATION.html by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 24 Apr 2010 18:24:18 GMT -->
<HEAD>
	<TITLE>SECTION_IMAGE_INFORMATION</TITLE>
	<LINK HREF="../../tomek.css" REL="stylesheet" TYPE="text/css" TITLE="Style">
</HEAD>

<BODY>

<H3 CLASS="Header">Undocumented functions of NTDLL</H3>
<P ALIGN="right" CLASS="CompileDate">2OO0, 26 November</P>
<BR>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-8635618593004815";
/* NTinternals Horizontal, 728x90 */
google_ad_slot = "4640181396";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>

<BR>
<DIV CLASS="text" >SECTION_IMAGE_INFORMATION</DIV>
<DIV CLASS="highlight" >SECTION_IMAGE_INFORMATION</DIV>
<BR>

<PRE CLASS="FnDefinition">
typedef struct _SECTION_IMAGE_INFORMATION {
<P CLASS="FnDefParams">
  PVOID                   <I><FONT COLOR="blue">EntryPoint</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">StackZeroBits</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">StackReserved</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">StackCommit</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">ImageSubsystem</FONT></I>;
  WORD                    <I><FONT COLOR="blue">SubSystemVersionLow</FONT></I>;
  WORD                    <I><FONT COLOR="blue">SubSystemVersionHigh</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">Unknown1</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">ImageCharacteristics</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">ImageMachineType</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">Unknown2[3]</FONT></I>;
</P>
} SECTION_IMAGE_INFORMATION, *PSECTION_IMAGE_INFORMATION;
</PRE>

<BR><BR><BR>


Structure <B><U>SECTION_IMAGE_INFORMATION</B></U> is returned as a result of call <A HREF="../Undocumented%20Functions/NT%20Objects/Section/NtQuerySection.html">NtQuerySection</A> with <A HREF="../Undocumented%20Functions/NT%20Objects/Section/SECTION_INFORMATION_CLASS.html#SectionImageInformation">SectionImageInformation</A> information class. System automatically check type and contents of File Object passed as a parameter to function <A HREF="../Undocumented%20Functions/NT%20Objects/Section/NtCreateSection.html">NtCreateSection</A>, and sets <B>SEC_IMAGE</B> bit on Section Attributes. <BR><BR>
This structure is very useful in process creation, becouse caller can check most interesting of <I>PE Header</I> fields just before call to <A HREF="../Undocumented%20Functions/NT%20Objects/Process/NtCreateProcess.html">NtCreateProcess</A> and without mapping section to target process'es memory.<BR><BR><HR WIDTH="40%"><BR><H6><LI>EntryPoint</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Image's entry point.<H6><LI>StackZeroBits</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Number of bits from left side of stack address must be set to zero. It means maximum stack's address in process memory.<H6><LI>StackReserved</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Total size of stack, in bytes.<H6><LI>StackCommit</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Initially commited stack's block size.<H6><LI>ImageSubsystem</H6>
&nbsp;&nbsp;&nbsp;&nbsp;One of <B>IMAGE_SUBSYSTEM_*</B> descripted in <I>Microsoft SDK</I> and avaiable in <B><I>&lt;winnt.h&gt;</B></I> header file.<H6><LI>SubSystemVersionLow</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Minor version number of subsystem.<H6><LI>SubSystemVersionHigh</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Major version number of subsystem.<H6><LI>Unknown1</H6>
&nbsp;&nbsp;&nbsp;&nbsp;<B><I>(?)</B></I><H6><LI>ImageCharacteristics</H6>
&nbsp;&nbsp;&nbsp;&nbsp;DLL Characteristics.<H6><LI>ImageMachineType</H6>
&nbsp;&nbsp;&nbsp;&nbsp;One of <B>IMAGE_FILE_MACHINE_*</B>.<H6><LI>Unknown2[3]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;<B><I>(?)</B></I>


<BR><BR><BR>
<DT CLASS="Require">Documented by:</DT>
<DD><STRONG>Tomasz Nowak</STRONG></DD>


<BR><BR><BR>
<DIV CLASS="Require">Requirements:</DIV>
<DD>Library: <STRONG CLASS="req">ntdll.lib</STRONG>


<BR><BR><BR>
<DIV CLASS="Require">See also:</DIV>
<DD><A HREF="../Undocumented%20Functions/NT%20Objects/Process/NtCreateProcess.html">NtCreateProcess</A><BR>
<DD><A HREF="../Undocumented%20Functions/NT%20Objects/Section/NtCreateSection.html">NtCreateSection</A><BR>
<DD><A HREF="../Undocumented%20Functions/NT%20Objects/Section/NtMapViewOfSection.html">NtMapViewOfSection</A><BR>
<DD><A HREF="../Undocumented%20Functions/NT%20Objects/Section/NtOpenSection.html">NtOpenSection</A><BR>
<DD><A HREF="../Undocumented%20Functions/NT%20Objects/Section/NtQuerySection.html">NtQuerySection</A><BR>
<DD><A HREF="SECTION_BASIC_INFORMATION.html">SECTION_BASIC_INFORMATION</A><BR>
<DD><A HREF="../Undocumented%20Functions/NT%20Objects/Section/SECTION_INFORMATION_CLASS.html">SECTION_INFORMATION_CLASS</A><BR>


<HR WIDTH="0" SIZE="0" NOSHADE CLASS="page">
</BODY>

<!-- Mirrored from undocumented.ntinternals.net/UserMode/Structures/SECTION_IMAGE_INFORMATION.html by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 24 Apr 2010 18:24:18 GMT -->
</HTML>

