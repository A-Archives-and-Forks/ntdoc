<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>

<!-- Mirrored from undocumented.ntinternals.net/UserMode/Undocumented Functions/NT Objects/File/NtCreateFile.html by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 24 Apr 2010 18:23:42 GMT -->
<HEAD>
	<TITLE>NtCreateFile</TITLE>
	<LINK HREF="../../../../tomek.css" REL="stylesheet" TYPE="text/css" TITLE="Style">
</HEAD>

<BODY>

<H3 CLASS="Header">Undocumented functions of NTDLL</H3>
<P ALIGN="right" CLASS="CompileDate">2OOO, 29 December</P>
<BR>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-8635618593004815";
/* NTinternals Horizontal, 728x90 */
google_ad_slot = "4640181396";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="../../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>

<BR>
<DIV CLASS="text" >NtCreateFile</DIV>
<DIV CLASS="highlight" >NtCreateFile</DIV>
<BR>

<PRE CLASS="FnDefinition">
NTSYSAPI 
NTSTATUS
NTAPI
<P CLASS="FnDefName">NtCreateFile(
<P CLASS="FnDefParams">
  OUT PHANDLE             <I><FONT COLOR="blue">FileHandle</FONT></I>,
  IN ACCESS_MASK          <I><FONT COLOR="blue">DesiredAccess</FONT></I>,
  IN POBJECT_ATTRIBUTES   <I><FONT COLOR="blue">ObjectAttributes</FONT></I>,
  OUT PIO_STATUS_BLOCK    <I><FONT COLOR="blue">IoStatusBlock</FONT></I>,
  IN PLARGE_INTEGER       <I><FONT COLOR="blue">AllocationSize</FONT></I> OPTIONAL,
  IN ULONG                <I><FONT COLOR="blue">FileAttributes</FONT></I>,
  IN ULONG                <I><FONT COLOR="blue">ShareAccess</FONT></I>,
  IN ULONG                <I><FONT COLOR="blue">CreateDisposition</FONT></I>,
  IN ULONG                <I><FONT COLOR="blue">CreateOptions</FONT></I>,
  IN PVOID                <I><FONT COLOR="blue">EaBuffer</FONT></I> OPTIONAL,
  IN ULONG                <I><FONT COLOR="blue">EaLength</FONT></I> );

</PRE>

<BR><BR><BR>


<I>(Avaiable also in 2000 DDK.)</I>


<H6><LI>FileHandle</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Result of call - <B>HANDLE</B> to File Object.<H6><LI>DesiredAccess</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Access mask based on definitions in schema <B>FILE_*</B> from <B><I>&lt;WinNT.h&gt;</B></I>.<H6><LI>ObjectAttributes</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Name of file to create (or open), optionally path in name string. You can also define root directory, security descriptor and attributes <B>OBJ_CASE_INSENSITIVE</B> and <B>OBJ_INHERIT</B>.<H6><LI>IoStatusBlock</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Pointer to <B>IO_STATUS_BLOCK</B> structure, that receive final status of function call. Can be one of: <UL>
<LI><B>FILE_CREATED</B><LI><B>FILE_OPENED</B><LI><B>FILE_OVERWRITTEN</B><LI><B>FILE_SUPERSEDED</B><LI><B>FILE_EXISTS</B><LI><B>FILE_DOES_NOT_EXIST</B></UL><H6><LI>AllocationSize</H6>
&nbsp;&nbsp;&nbsp;&nbsp;File size after creation.<H6><LI>FileAttributes</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Attributes for newly created file, as follows:
<UL>
	<LI><B>FILE_ATTRIBUTE_READONLY</B>	<LI><B>FILE_ATTRIBUTE_HIDDEN</B>	<LI><B>FILE_ATTRIBUTE_SYSTEM</B>	<LI><B>FILE_ATTRIBUTE_ARCHIVE</B>	<LI><B>FILE_ATTRIBUTE_NORMAL</B> 	<LI><B>FILE_ATTRIBUTE_TEMPORARY</B> 	<LI><B>FILE_ATTRIBUTE_OFFLINE</B> 	<LI><B>FILE_ATTRIBUTE_NOT_CONTENT_INDEXED</B></UL><H6><LI>ShareAccess</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Specifies share method for opened object. Can be set to zero or any combination of flags:
<UL>
	<LI><B>FILE_SHARE_READ</B> 	<LI><B>FILE_SHARE_WRITE</B> 	<LI><B>FILE_SHARE_DELETE</B></UL><H6><LI>CreateDisposition</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Specifies disposition how to create or open object and can be one of:
<UL>
	<LI><B>FILE_SUPERSEDE </B>- If file exists, deletes it before creation of new one. 	<LI><B>FILE_OPEN</B> - Fails, if file not exists. 	<LI><B>FILE_CREATE</B> - Fails, if file exists. 	<LI><B>FILE_OPEN_IF</B> - If file exists, opens it. If not, creates new one and then open it. 	<LI><B>FILE_OVERWRITE</B> - If file not exists, create and open it. If exists, open them and reset content. 	<LI><B>FILE_OVERWRITE_IF</B> - As <B>FILE_OVERWRITE</B>, but fails if file not exists.</UL><H6><LI>CreateOptions</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Creation options.<H6><LI>EaBuffer</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Buffer for Extended Attributes contains one or more of <A HREF="FILE_FULL_EA_INFORMATION.html">FILE_FULL_EA_INFORMATION</A> structures.<H6><LI>EaLength</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Length of <FONT CLASS="ParamNameDesc">EaBuffer</FONT>.


<BR><BR><BR>
<DT CLASS="Require">Documented by:</DT>
<DD><STRONG>Tomasz Nowak</STRONG></DD>


<BR><BR><BR>
<DIV CLASS="Require">Requirements:</DIV>
<DD>Library: <STRONG CLASS="req">ntdll.lib</STRONG>


<BR><BR><BR>
<DIV CLASS="Require">See also:</DIV>
<DD><A HREF="FILE_FULL_EA_INFORMATION.html">FILE_FULL_EA_INFORMATION</A><BR>
<DD><A HREF="NtDeleteFile.html">NtDeleteFile</A><BR>
<DD><A HREF="NtOpenFile.html">NtOpenFile</A><BR>
<DD><A HREF="NtSetEaFile.html">NtSetEaFile</A><BR>


<HR WIDTH="0" SIZE="0" NOSHADE CLASS="page">
</BODY>

<!-- Mirrored from undocumented.ntinternals.net/UserMode/Undocumented Functions/NT Objects/File/NtCreateFile.html by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 24 Apr 2010 18:23:42 GMT -->
</HTML>

