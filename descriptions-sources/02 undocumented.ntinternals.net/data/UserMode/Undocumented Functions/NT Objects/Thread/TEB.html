<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>

<!-- Mirrored from undocumented.ntinternals.net/UserMode/Undocumented Functions/NT Objects/Thread/TEB.html by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 24 Apr 2010 18:24:27 GMT -->
<HEAD>
	<TITLE>TEB</TITLE>
	<LINK HREF="../../../../tomek.css" REL="stylesheet" TYPE="text/css" TITLE="Style">
</HEAD>

<BODY>

<H3 CLASS="Header">Undocumented functions of NTDLL</H3>
<P ALIGN="right" CLASS="CompileDate">2OO1,  2 March</P>
<BR>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-8635618593004815";
/* NTinternals Horizontal, 728x90 */
google_ad_slot = "4640181396";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="../../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>

<BR>
<DIV CLASS="text" >TEB</DIV>
<DIV CLASS="highlight" >TEB</DIV>
<BR>

<PRE CLASS="FnDefinition">
typedef struct _TEB {
<P CLASS="FnDefParams">
  NT_TIB                  <I><FONT COLOR="blue">Tib</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">EnvironmentPointer</FONT></I>;
  CLIENT_ID               <I><FONT COLOR="blue">Cid</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">ActiveRpcInfo</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">ThreadLocalStoragePointer</FONT></I>;
  PPEB                    <I><FONT COLOR="blue">Peb</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">LastErrorValue</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">CountOfOwnedCriticalSections</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">CsrClientThread</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">Win32ThreadInfo</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">Win32ClientInfo[0x1F]</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">WOW32Reserved</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">CurrentLocale</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">FpSoftwareStatusRegister</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">SystemReserved1[0x36]</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">Spare1</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">ExceptionCode</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">SpareBytes1[0x28]</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">SystemReserved2[0xA]</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">GdiRgn</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">GdiPen</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">GdiBrush</FONT></I>;
  CLIENT_ID               <I><FONT COLOR="blue">RealClientId</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">GdiCachedProcessHandle</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">GdiClientPID</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">GdiClientTID</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">GdiThreadLocaleInfo</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">UserReserved[5]</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">GlDispatchTable[0x118]</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">GlReserved1[0x1A]</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">GlReserved2</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">GlSectionInfo</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">GlSection</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">GlTable</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">GlCurrentRC</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">GlContext</FONT></I>;
  NTSTATUS                <I><FONT COLOR="blue">LastStatusValue</FONT></I>;
  UNICODE_STRING          <I><FONT COLOR="blue">StaticUnicodeString</FONT></I>;
  WCHAR                   <I><FONT COLOR="blue">StaticUnicodeBuffer[0x105]</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">DeallocationStack</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">TlsSlots[0x40]</FONT></I>;
  LIST_ENTRY              <I><FONT COLOR="blue">TlsLinks</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">Vdm</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">ReservedForNtRpc</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">DbgSsReserved[0x2]</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">HardErrorDisabled</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">Instrumentation[0x10]</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">WinSockData</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">GdiBatchCount</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">Spare2</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">Spare3</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">Spare4</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">ReservedForOle</FONT></I>;
  ULONG                   <I><FONT COLOR="blue">WaitingOnLoaderLock</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">StackCommit</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">StackCommitMax</FONT></I>;
  PVOID                   <I><FONT COLOR="blue">StackReserved</FONT></I>;
</P>
} TEB, *PTEB;
</PRE>

<BR><BR><BR>


Structure <B><U>TEB</B></U> <I>(Thread Environment Block)</I> is memory block containing system variables placed in <I>User-Mode</I> memory. Every created thread have own <B><U>TEB</B></U> block. User can get address of <B><U>TEB</B></U> by call <A HREF="NtCurrentTeb.html">NtCurrentTeb</A> function.
<BR><BR><HR WIDTH="40%"><BR>

<H6><LI>Tib</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Structure <B><U>NT_TIB</B></U> is avaiable in <B><I>&lt;WinNT.h&gt;</B></I> header file.
<H6><LI>EnvironmentPointer</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>Cid</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>ActiveRpcInfo</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>ThreadLocalStoragePointer</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>Peb</H6>
&nbsp;&nbsp;&nbsp;&nbsp;Pointer to <A HREF="../Process/PEB.html">PEB</A> structure contains <I>Process Environment Block</I>.
<H6><LI>LastErrorValue</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>CountOfOwnedCriticalSections</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>CsrClientThread</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>Win32ThreadInfo</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>Win32ClientInfo[0x1F]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>WOW32Reserved</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>CurrentLocale</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>FpSoftwareStatusRegister</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>SystemReserved1[0x36]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>Spare1</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>ExceptionCode</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>SpareBytes1[0x28]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>SystemReserved2[0xA]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GdiRgn</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GdiPen</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GdiBrush</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>RealClientId</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GdiCachedProcessHandle</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GdiClientPID</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GdiClientTID</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GdiThreadLocaleInfo</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>UserReserved[5]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GlDispatchTable[0x118]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GlReserved1[0x1A]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GlReserved2</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GlSectionInfo</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GlSection</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GlTable</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GlCurrentRC</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GlContext</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>LastStatusValue</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>StaticUnicodeString</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>StaticUnicodeBuffer[0x105]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>DeallocationStack</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>TlsSlots[0x40]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>TlsLinks</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>Vdm</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>ReservedForNtRpc</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>DbgSsReserved[0x2]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>HardErrorDisabled</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>Instrumentation[0x10]</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>WinSockData</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>GdiBatchCount</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>Spare2</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>Spare3</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>Spare4</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>ReservedForOle</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>WaitingOnLoaderLock</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>StackCommit</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>StackCommitMax</H6>
&nbsp;&nbsp;&nbsp;&nbsp;
<H6><LI>StackReserved</H6>
&nbsp;&nbsp;&nbsp;&nbsp;


<BR><BR><BR>
<DT CLASS="Require">Documented by:</DT>
<DD><STRONG>Reactos</STRONG></DD>
<DD><STRONG>Tomasz Nowak</STRONG></DD>


<BR><BR><BR>
<DIV CLASS="Require">Requirements:</DIV>
<DD>Library: <STRONG CLASS="req">ntdll.lib</STRONG>


<BR><BR><BR>
<DIV CLASS="Require">See also:</DIV>
<DD><A HREF="NtCurrentTeb.html">NtCurrentTeb</A><BR>
<DD><A HREF="../Process/PEB.html">PEB</A><BR>
<DD><A HREF="../../../Structures/THREAD_BASIC_INFORMATION.html">THREAD_BASIC_INFORMATION</A><BR>



<HR WIDTH="0" SIZE="0" NOSHADE CLASS="page">

</BODY>

<!-- Mirrored from undocumented.ntinternals.net/UserMode/Undocumented Functions/NT Objects/Thread/TEB.html by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 24 Apr 2010 18:24:27 GMT -->
</HTML>

